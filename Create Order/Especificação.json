Ativar o "Salesforce PB" em Administrador Faturamento |"Configurar --> Ordens --> Importar Origen"
Ativar o SALESFORCE-TODOS no Quickcode "OM_INTPEDIDO_CLIENTES"


//Exemplo de chamada a API que deu certo
//Para engenharia acrescentar NICHO e Tipo de Obra
//Engenharia exige conta nacional 1 E 2 - Pode ser "Indefinido"
//Teremos o nome do "Arquiteto"
-- NICHO (Quais opções) - Vai estar no cliente - Verificar a lista de valores - Campo DEMAND_CLASS_CODE
-- Tipo de Obra - Tipo da oportunidade - Campo Tipo\Type na oportunidade  - Verificar a lista de valores - Campo ATTRIBUTE12
-- Conta Nacional pegar do cliente - Campo ATTRIBUTE20
{
{
  "order_source": "POP-SALES",                                    -- Valor fixo a ser parametrizado no EBS - Origem do Pedido - Em ambiente de testes utilizar o valor padrão IVOP 
  "source_hdr_id": "168",                                         -- Numero sequencial do pedido no Salesforce - Utilizado para controle de integração\duplicidade\retentativa
  "order_type_id": "1022",                                        -- Codigo do tipo de ordem - Opportunity!OrderType__c
  "cust_po_number": "22769",                                      -- Número da ordem de compra do cliente - Opportunity!PurchaseOrder__c
  "domestic_foreign_ind": "D",                                    -- Indicador de operação - Informar "D" para Doméstica
  "sold_from_fiscal_id": "83475913000272",                        -- CNPJ da origem do faturamento (CD) - Ex. 83475913000272 - EET \  83475913004006 - EEA
  "payment_term_id": "1909",                                      -- ID da condição de pagamento - Opportunity!PaymentCondition__c
  "request_date": "2022-02-11T00:00:00",                          -- Data da requisição
  "ship_set_code": null,                                          -- [Opcional] - Indica se permite entrega parcial para o pedido - Opportunity!PartialInvoicing__c
  "emailAccWhenSuccess": "guilherme.rodrigues@portobello.com.br", -- Endereço de e-mail destinatário quando processado com sucesso
  "emailAccWhenError": "guilherme.rodrigues@portobello.com.br",   -- Endereço de e-mail destinatário quando processado com erro
  "salesrep_id":"100113291",                                      -- [obrigatório] - ID do representante de vendas do EBS - Opportunity!OwnerId --> Buscar o dado em Account!ExternalID
  "carrier_id":3072511,                                           -- Codigo da transportadora - Opportunity!Transporter__c
  "ship_from_org_id":1719,                                        -- Código do Deposito da oportunidade - Opportunity!Warehouse__c
  "sales_channel_code":"1",                                       -- Canal da oportunidade - Opportunity!Channel__c
  "discount_1":0,                                                 -- Desconto 1 da oportunidade - Opportunity!Discount1__c
  "discount_2":0,                                                 -- Desconto 2 da oportunidade - Opportunity!Discount2__c
  "discount_3":0,                                                 -- Desconto 3 da oportunidade - Opportunity!Discount3__c
  "term_discount":3.63,                                           -- Desconto de prazo - Opportunity!TermDiscount__c
  "list_header_id":1806917,                                       -- ID da lista de preço - Opportunity!Pricebook2Id
  "type_construction":"REFORMA",                                  -- Tipo de Obra - *Campo novo será incluido no objeto Opportunity
  "nacional_account":"1001",                                      -- Conta Nacional - Opportunity!AccountID --> Account!ParentID --> Busca object Account!ExternalID
  "freight_type":"CIF",                                           -- Tipo de Frete - Opportunity!FreightType__c
  "specifier_name":"ARQUITETO NÃO DEFINIDO",                      -- Nome do especificador\Arquiteto - *Campo novo será incluido no objeto Opportunity
  "demand_class_code":"",                                         -- Nicho - *Campo novo será incluido no objeto Opportunity
  "total_opportunity_quantity":0,                                 -- Volume total da oportunidade - Validação de Cotas
  "cliente": 
    {
    "sold_to_fiscal_id": "007573273000174",                       -- CNPJ do cliente - Opportunity!AccountID --> Account!TaxID__C
    "cust_acct_site_id":"476821",                                 -- Código do cliente - Opportunity!AccountID --> Account!External_ID
    "billing_account":"476821",                                   -- Código do cliente de faturamento quando houver - Opportunity!BillingAccount__c --> Account!External_ID
    "packing_instructions": "Instrucoes sobre embalagem",         -- Instruções de embalagagem\Pedido - Opportunity!Description
    "shipping_instructions": "Instrucoes de entrega",             -- Instruções de Entrega - Opportunity!DeliveryNotes__c
    "invoice_instructions": "Instrucoes de faturamento",          -- Instruções de Faturamento - Opportunity!InvoiceNotes__c
	-- Abaixo - Parametros utilizados na criação de endereços - Ainda nOK
	"cust_ind_type": "1", 										  -- Indicador de tipo de cliente 1-Pessoa Física ou 2-Pessoa Jurídica 
	"cust_reg_number": "23850620034", 							  -- Número do CPF ou do CNPJ do cliente, conforme o tipo de pessoa (física ou jurídica)
	"cust_state_inscription": "", 								  -- Inscrição estadual do cliente
	"cust_city_inscription": "", 								  -- Inscrição municipal do cliente
	"cust_suframa_inscription": "", 							  -- Inscrição Suframa do cliente
	"cust_contrib_type": "NAO CONTRIBUINTE", 					  -- Tipo de contribuinte fislcal do cliente
	"cust_name": "SUZANA LUNARDI", 								  -- Nome do cliente
	"cust_zip_code": "88053436", 								  -- CEP do cliente
	"cust_address1": "RUA DOS MARIMBAUS", 						  -- Linha 1 do endereço
	"cust_address2": 175, 										  -- Número do endereço (nulo para sem número)
	"cust_address3": "CASA", 									  -- Linha 3 do endereço
	"cust_address4": "JURERE INTERNACIONAL", 					  -- Linha 4 do endereço
	"cust_city": "FLORIANOPOLIS", 								  -- Cidade do cliente
	"cust_state": "SC", 										  -- Sigla do estado do cliente
	"cust_country": "BR", 										  -- [Opcional] - Padrão 'Brasil' - País do cliente
	"cust_city_ibge": "05407", 									  -- Código IBGE do município
	"cust_state_ibge": "42", 									  -- Código IBGE do estado
	"cust_phone_number": "61999689220", 						  -- Telefone do cliente
	-- Acima - Parametros utilizados na criação de endereços - Ainda nOK
    "entrega": {
		"ds_contato": "Nome do Contato",						  -- [Opcional] Descritivo do contato de Entrega
		"cd_area_contato": "11",								  -- [Opcional] Código de area do telefone de contato
		"nr_telefone_contato": "99999-5555",					  -- [Opcional] Telefone de contato
		"id_local_entrega": null,							      -- [Opcional] ID do local de entrega do EBS
		"hr_entrega_inicio": "2022-02-11T00:00:00",               -- [Opcional] Data e hora para início da janela de entrega
		"hr_entrega_final": "2022-12-11T00:00:00",				  -- [Opcional] Data e hora para final da janela de entrega
		"id_acessa_caminhao": "S",							      -- [Opcional] Indicador para acesso de caminhão
		"ds_ponto_referencia": "Ponto de referencia",			  -- [Opcional] Ponto de referência do endereço de entrega
		"qt_dia_entrega_cliente": "100",						  -- [Opcional] Quantidade limite para entrefa por dia
		"ds_armazenar": "DS Armazenar",							  -- [Opcional] Instruções para armazenagem	
		"ds_dificuldade": "DS Dificuldade",						  -- [Opcional] Instruções a respeito das dificuldades de entrega
		"ds_comentario": "Comentario",							  -- [Opcional] Comentários a respeito da entrega
		"ds_email": "email@entrega.com.br",						  -- [Opcional] E-mail do cliente
		"cd_area_contato2": "22",								  -- [Opcional] Código de área do telefone de contato 2
		"nr_telefone_contato2": "22222-4444"					  -- [Opcional] Telefone de contato 2
	  }	
	},
  "comissions":[
      {
        "rep_id": "100213300",									  -- [Opcional] Codigo do representante na comissão
        "val_percent":75  }										  -- [Opcional] Percentual da comissão do representante
      ,{
        "rep_id": "100113291",									  -- [Opcional] Codigo do representante na comissão
        "val_percent":25										  -- [Opcional] Percentual da comissão do representante
      }],
  "items": [
    {
      "familia": null,											  -- [Opcional] - Familia do produto 
      "calibre": null,											  -- [Obrigatorio quando produto Comercial] - Calibre do Produto - OpportunityLineItem!Caliber__c
      "sku": null,												  -- [Obrigatorio quando produto Comercial] - SKU do produto - OpportunityLineItem!HueCaliberCode__c
      "grupo": null,											  -- [Opcional] Código do agrupamento entre produtos do pedido - OpportunityLineItem!Group__c
      "camada": null,										      -- [Obrigatorio quando produto Comercial] - Camada do produto - Informar de acordo com o SKU\Lote - Considerar os dois ultimos digitos
      "line_number": null,										  -- [opcional] - Número da linha na ordem de compra. Usar contador caso não seja informado
      "inventory_item_code": "29627E",							  -- [obrigatório] - Código do produto - OpportunityLineItem!ProductCode
      "unit_price": 110.22,										  -- [opcional] - Preço unitário do produto - OpportunityLineItem!UnitPrice
	  "list_price": 110.22,										  -- [opcional] - Preço unitário do produto na Lista de preços - Será validado contra a tabela de preços do EBS - OpportunityLineItem!ListPrice
      "ordered_quantity": 7.92,									  -- [obrigatório] - Quantidade vendida - OpportunityLineItem!Quantity
      "unit_of_measure": "m2",									  -- [obrigatório] - Unidade de medida - OpportunityLineItem!QuantityUnitOfMeasure__c
	  "ship_from_org_code": "EET", 								  -- [Obrigatório] - Organização de origem do estoque - Descritivo (ex. EET) referente ao campo Opportunity!Warehouse__c
      "request_date": null,										  -- [Opcional] Data de desejo do cliente - OpportunityLineItem!CustomerWishDate__c
      "schedule_ship_date": null,								  -- [Opcional] Data de agendamento da entrega para o cliente
      "assistance_number": null,								  -- [Opcional] Número da ordem da Assistência Técnica
      "line_discount": null,									  -- [Opcional] Desconto da linha do pedido - OpportunityLineItem!Discount
      "earliest_acceptable_date": null,							  -- [Opcional] Data mínima de faturamento - OpportunityLineItem!MinimalInvoicingDate__c
      "ambient_type": null										  -- [Opcional] Tipo de ambiente
    }
  ]
}